# Story 5.5 - Voir les coups de cÅ“ur de chaque personne

## Epic
Epic 5 : Consultation et vues filtrÃ©es

## User Story
**En tant qu'** utilisateur  
**Je veux** voir les coups de cÅ“ur de chaque personne  
**Afin de** savoir ce que veulent les autres membres de la famille

## Contexte
Dans l'esprit de transparence, on peut voir ce que chacun a choisi. Utile pour prÃ©parer les discussions : "Tiens, Pierre veut aussi le buffet..."

## CritÃ¨res d'Acceptation

- [ ] Un sÃ©lecteur permet de choisir un membre de la famille
- [ ] La galerie filtre pour montrer les coups de cÅ“ur de cette personne
- [ ] Le nombre de coups de cÅ“ur est affichÃ©
- [ ] On peut voir les "maybe" Ã©galement (option ou onglet sÃ©parÃ©)
- [ ] Accessible depuis un menu ou une page dÃ©diÃ©e

## Ã‰lÃ©ments Techniques

### API Endpoint
```
GET /api/items?filter=love&userId=456
â†’ Retourne les fiches oÃ¹ userId a mis "love"
```

### SQL
```sql
SELECT i.*, p.level as their_preference
FROM items i
JOIN preferences p ON i.id = p.item_id
WHERE p.user_id = $1 
  AND p.level = 'love'
  AND i.deleted_at IS NULL
ORDER BY i.number;
```

### SÃ©lecteur de personne
```jsx
function PersonPicker({ users, selectedId, onSelect }) {
  return (
    <div className="person-picker">
      {users.map(user => (
        <button
          key={user.id}
          className={selectedId === user.id ? 'active' : ''}
          onClick={() => onSelect(user.id)}
        >
          {user.name}
          <span className="role">{user.role === 'parent' ? 'ğŸ‘´' : 'ğŸ‘¶'}</span>
        </button>
      ))}
    </div>
  );
}
```

## Maquette SimplifiÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Voir les choix de :        â”‚
â”‚                             â”‚
â”‚  [Marie] [Pierre] [Jean]    â”‚
â”‚   ^^^^^                     â”‚
â”‚   actif                     â”‚
â”‚                             â”‚
â”‚  Coups de cÅ“ur de Marie (5) â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ğŸ“·    â”‚ â”‚ ğŸ“·    â”‚        â”‚
â”‚  â”‚  #2   â”‚ â”‚  #7   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## DÃ©pendances
- 5.1 : La galerie
- Epic 4 : Les prÃ©fÃ©rences

## Stories LiÃ©es
- 5.4 : Mes propres coups de cÅ“ur
- 5.7 : Vue des conflits
