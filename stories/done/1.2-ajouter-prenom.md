# Story 1.2 - Ajouter son prÃ©nom

## Epic
Epic 1 : Identification simple

## User Story
**En tant qu'** utilisateur  
**Je veux** ajouter mon prÃ©nom s'il n'est pas dans la liste  
**Afin de** pouvoir utiliser l'application mÃªme si je suis le premier ou si on m'a oubliÃ©

## Contexte
La liste des prÃ©noms peut Ãªtre vide au dÃ©part ou un nouveau membre de la famille peut vouloir s'ajouter. Il faut permettre l'ajout simple d'un prÃ©nom.

## CritÃ¨res d'Acceptation

- [ ] Un lien/bouton "Ajouter mon prÃ©nom" est visible sur l'Ã©cran d'identification
- [ ] Un champ de saisie permet d'entrer un nouveau prÃ©nom
- [ ] Le prÃ©nom doit faire entre 2 et 50 caractÃ¨res
- [ ] Les espaces en dÃ©but/fin sont supprimÃ©s (trim)
- [ ] Un message d'erreur s'affiche si le prÃ©nom existe dÃ©jÃ 
- [ ] AprÃ¨s ajout, l'utilisateur est automatiquement identifiÃ© avec ce prÃ©nom
- [ ] L'utilisateur doit ensuite choisir son rÃ´le (story 1.3)

## Ã‰lÃ©ments Techniques

### API Endpoint
```
POST /api/users
Body: { name: "PrÃ©nom" }
â†’ Retourne { id, name, role: null }
â†’ Erreur 409 si le prÃ©nom existe dÃ©jÃ 
```

### Validation
```javascript
// CÃ´tÃ© client ET serveur
const isValidName = (name) => {
  const trimmed = name.trim();
  return trimmed.length >= 2 && trimmed.length <= 50;
};
```

### Base de donnÃ©es
```sql
INSERT INTO users (name) VALUES ($1) RETURNING id, name, role;
```

## Maquette SimplifiÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚    ðŸ¦ HÃ©ritage PartagÃ©      â”‚
â”‚                             â”‚
â”‚    Ajouter votre prÃ©nom     â”‚
â”‚                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ Votre prÃ©nom...     â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â”‚    [Annuler]  [Confirmer]   â”‚
â”‚                             â”‚
â”‚    âš ï¸ Ce prÃ©nom existe dÃ©jÃ  â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## DÃ©pendances
- 1.1 : L'Ã©cran d'identification doit exister

## Stories LiÃ©es
- 1.3 : AprÃ¨s ajout, l'utilisateur doit choisir son rÃ´le
