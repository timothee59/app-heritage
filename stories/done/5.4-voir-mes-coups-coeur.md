# Story 5.4 - Voir la liste de mes coups de cÅ“ur

## Epic
Epic 5 : Consultation et vues filtrÃ©es

## User Story
**En tant qu'** utilisateur  
**Je veux** voir la liste de mes coups de cÅ“ur  
**Afin de** avoir une vue d'ensemble de ce que je veux vraiment

## Contexte
AprÃ¨s avoir parcouru des dizaines de fiches, on veut pouvoir revoir facilement tous les objets qu'on a marquÃ©s en coup de cÅ“ur. C'est aussi utile pour la discussion finale en famille.

## CritÃ¨res d'Acceptation

- [ ] Un filtre/onglet "Mes â¤ï¸" dans la galerie affiche seulement mes coups de cÅ“ur
- [ ] Le filtre affiche le nombre de fiches concernÃ©es ("Mes â¤ï¸ (7)")
- [ ] Les fiches sont triÃ©es par numÃ©ro
- [ ] Cliquer sur une miniature ouvre le dÃ©tail
- [ ] Si aucun coup de cÅ“ur, afficher un message explicatif

## Ã‰lÃ©ments Techniques

### API Endpoint
```
GET /api/items?filter=my-love
Headers: { X-User-Id: 123 }
â†’ Retourne les fiches oÃ¹ j'ai mis "love"
```

### SQL
```sql
SELECT i.*, p.level as my_preference
FROM items i
JOIN preferences p ON i.id = p.item_id
WHERE p.user_id = $1 
  AND p.level = 'love'
  AND i.deleted_at IS NULL
ORDER BY i.number;
```

### Filtres de la galerie
```jsx
function Gallery() {
  const [filter, setFilter] = useState('all');
  
  const filters = [
    { key: 'all', label: 'Tous', icon: 'ğŸ“‹' },
    { key: 'my-love', label: 'Mes â¤ï¸', icon: 'â¤ï¸' },
    { key: 'to-review', label: 'Ã€ traiter', icon: 'ğŸ‘ï¸' },
    { key: 'conflicts', label: 'Conflits', icon: 'âš ï¸' },
  ];

  return (
    <>
      <div className="filters">
        {filters.map(f => (
          <button
            key={f.key}
            className={filter === f.key ? 'active' : ''}
            onClick={() => setFilter(f.key)}
          >
            {f.icon} {f.label}
            {counts[f.key] && <span>({counts[f.key]})</span>}
          </button>
        ))}
      </div>
      <ItemGrid items={filteredItems} />
    </>
  );
}
```

### Message si vide
```jsx
{filteredItems.length === 0 && filter === 'my-love' && (
  <div className="empty-state">
    <span className="icon">ğŸ’”</span>
    <p>Vous n'avez pas encore de coup de cÅ“ur.</p>
    <p>Parcourez les fiches et marquez celles qui vous plaisent !</p>
  </div>
)}
```

## Maquette SimplifiÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¦ HÃ©ritage    [ğŸ‘¤ Marie]   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                             â”‚
â”‚  [Tous] [Mes â¤ï¸] [Ã€ voir]   â”‚
â”‚          ^^^^^^             â”‚
â”‚           actif             â”‚
â”‚                             â”‚
â”‚  Mes coups de cÅ“ur (3)      â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“·  â¤ï¸â”‚ â”‚ ğŸ“·  â¤ï¸â”‚ â”‚ ğŸ“·â¤ï¸â”‚â”‚
â”‚  â”‚  #2   â”‚ â”‚  #7   â”‚ â”‚ #15 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Si vide :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚           ğŸ’”                â”‚
â”‚                             â”‚
â”‚  Vous n'avez pas encore     â”‚
â”‚  de coup de cÅ“ur.           â”‚
â”‚                             â”‚
â”‚  Parcourez les fiches et    â”‚
â”‚  marquez celles qui vous    â”‚
â”‚  plaisent !                 â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## DÃ©pendances
- 5.1 : La galerie principale
- Epic 4 : Les prÃ©fÃ©rences

## Stories LiÃ©es
- 5.5 : Voir les coups de cÅ“ur d'une autre personne
