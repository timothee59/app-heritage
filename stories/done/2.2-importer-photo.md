# Story 2.2 - Importer une photo depuis la galerie

## Epic
Epic 2 : CrÃ©ation du catalogue photo

## User Story
**En tant qu'** utilisateur  
**Je veux** importer une photo depuis ma galerie  
**Afin de** ajouter des photos dÃ©jÃ  prises ou reÃ§ues par message

## Contexte
Parfois les photos ont dÃ©jÃ  Ã©tÃ© prises, ou envoyÃ©es par quelqu'un d'autre via WhatsApp. Il faut pouvoir les importer sans repasser par la camÃ©ra.

## CritÃ¨res d'Acceptation

- [ ] Une option "Importer" ou "Galerie" est disponible Ã  cÃ´tÃ© de "Photo"
- [ ] Cette option ouvre le sÃ©lecteur de photos de l'appareil
- [ ] L'utilisateur peut choisir une ou plusieurs photos
- [ ] Chaque photo importÃ©e crÃ©e une fiche sÃ©parÃ©e (ou une fiche avec plusieurs photos - Ã  dÃ©finir)
- [ ] Les photos sont compressÃ©es avant envoi (mÃªme logique que 2.1)
- [ ] Un feedback indique le nombre de fiches crÃ©Ã©es

## DÃ©cision UX Ã  prendre

**Option A** : 1 photo = 1 fiche (plus simple, cohÃ©rent avec la camÃ©ra)
**Option B** : SÃ©lection multiple = 1 fiche avec plusieurs photos

â†’ **Recommandation MVP** : Option A (simplicitÃ©)

## Ã‰lÃ©ments Techniques

### SÃ©lecteur de fichiers (HTML5)
```html
<!-- Sans capture = ouvre la galerie au lieu de la camÃ©ra -->
<input 
  type="file" 
  accept="image/*"
  multiple
  onChange={handleImport}
/>
```

### Traitement multiple
```javascript
async function handleImport(event) {
  const files = Array.from(event.target.files);
  
  for (const file of files) {
    const compressed = await compressImage(file);
    await createItem(compressed);
  }
  
  showToast(`${files.length} fiche(s) crÃ©Ã©e(s)`);
}
```

### API
MÃªme endpoint que 2.1 :
```
POST /api/items
Body: { photo: "data:image/jpeg;base64,..." }
```

## Maquette SimplifiÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚    Ajouter un objet         â”‚
â”‚                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚   ğŸ“· Prendre      â”‚    â”‚
â”‚    â”‚   une photo       â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚   ğŸ–¼ï¸ Importer     â”‚    â”‚
â”‚    â”‚   depuis galerie  â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚         [Annuler]           â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## DÃ©pendances
- 2.1 : La logique de crÃ©ation de fiche et compression

## Stories LiÃ©es
- 2.4 : Ajouter plusieurs photos Ã  une fiche existante
