# Story 5.6 - Voir les fiches que JE n'ai pas encore traitÃ©es

## Epic
Epic 5 : Consultation et vues filtrÃ©es

## User Story
**En tant qu'** utilisateur  
**Je veux** voir les fiches que je n'ai pas encore traitÃ©es  
**Afin de** m'assurer d'avoir donnÃ© mon avis sur tous les objets

## Contexte
Avec des dizaines voire des centaines d'objets, il est facile d'en oublier. Ce filtre montre uniquement les fiches oÃ¹ je n'ai pas encore fait de choix (ni love, ni maybe, ni no).

## CritÃ¨res d'Acceptation

- [ ] Un filtre "Ã€ traiter" dans la galerie affiche les fiches sans ma prÃ©fÃ©rence
- [ ] Le nombre de fiches restantes est affichÃ© ("Ã€ traiter (23)")
- [ ] Les fiches sont triÃ©es par numÃ©ro croissant
- [ ] Quand je fais un choix sur une fiche, elle disparaÃ®t de cette vue
- [ ] Si tout est traitÃ©, afficher un message de fÃ©licitations

## Ã‰lÃ©ments Techniques

### API Endpoint
```
GET /api/items?filter=to-review
Headers: { X-User-Id: 123 }
â†’ Retourne les fiches oÃ¹ je n'ai PAS de prÃ©fÃ©rence
```

### SQL
```sql
SELECT i.*
FROM items i
LEFT JOIN preferences p ON i.id = p.item_id AND p.user_id = $1
WHERE p.id IS NULL
  AND i.deleted_at IS NULL
ORDER BY i.number;
```

### Compteur dans le header
```jsx
function FilterTabs({ counts, activeFilter, onFilterChange }) {
  return (
    <div className="filter-tabs">
      <button 
        className={activeFilter === 'to-review' ? 'active' : ''}
        onClick={() => onFilterChange('to-review')}
      >
        ğŸ‘ï¸ Ã€ traiter
        {counts.toReview > 0 && (
          <span className="badge">{counts.toReview}</span>
        )}
      </button>
    </div>
  );
}
```

### Message si tout traitÃ©
```jsx
{filteredItems.length === 0 && filter === 'to-review' && (
  <div className="empty-state success">
    <span className="icon">ğŸ‰</span>
    <p>Bravo ! Vous avez traitÃ© toutes les fiches.</p>
  </div>
)}
```

## Maquette SimplifiÃ©e

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¦ HÃ©ritage    [ğŸ‘¤ Marie]   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                             â”‚
â”‚  [Tous] [Mes â¤ï¸] [Ã€ traiter]â”‚
â”‚                    ^^^^^^^^ â”‚
â”‚                     actif   â”‚
â”‚                             â”‚
â”‚  Ã€ traiter (12)             â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“·    â”‚ â”‚ ğŸ“·    â”‚ â”‚ ğŸ“·  â”‚â”‚
â”‚  â”‚  #4   â”‚ â”‚  #8   â”‚ â”‚ #9  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚
â”‚  (pas d'indicateur car pas  â”‚
â”‚   encore de prÃ©fÃ©rence)     â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Quand tout est traitÃ© :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚           ğŸ‰                â”‚
â”‚                             â”‚
â”‚  Bravo ! Vous avez traitÃ©   â”‚
â”‚  toutes les fiches.         â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## DÃ©pendances
- 5.1 : La galerie
- Epic 4 : Les prÃ©fÃ©rences

## Stories LiÃ©es
- 5.4 : Vue "Mes coups de cÅ“ur"
- 4.5 : Indicateur de prÃ©fÃ©rence sur les miniatures
